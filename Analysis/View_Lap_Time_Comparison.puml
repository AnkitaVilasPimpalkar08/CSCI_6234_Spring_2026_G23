@startuml
allow_mixing
skinparam handwritten true
actor User
boundary "Lap Time Comparison View" as GUI
control "Lap Time Controller" as CTRL
control "Chart Generator" as CHART
entity "Lap Time Data" as DATA
entity "Selected Drivers" as DRIVERS

User -> GUI : Request Lap Time Comparison
GUI -> CTRL : LOAD_COMPARISON()
CTRL -> DRIVERS : Get Selected Drivers
CTRL -> DATA : Fetch Lap Times for Drivers
DATA --> CTRL : Return Raw Lap Data
CTRL -> CHART : PROCESS_DATA(lapData)
CHART --> CTRL : Formatted Chart Data
CTRL -> GUI : Render Chart

User -> GUI : Apply Filter (e.g. Clean Laps)
GUI -> CTRL : UPDATE_FILTER(criteria)
CTRL -> DATA : Filter Lap Data
DATA --> CTRL : Filtered Data
CTRL -> CHART : REPROCESS_DATA()
CTRL -> GUI : Update Chart
@enduml
